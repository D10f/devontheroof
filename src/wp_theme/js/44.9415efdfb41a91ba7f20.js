"use strict";(self.webpackChunkwebpack_v5_dom_typescript=self.webpackChunkwebpack_v5_dom_typescript||[]).push([[44],{44:function(t,i,e){e.r(i);var n=e(35),o=e.n(n),r=e(842);function s(t,i){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);i&&(n=n.filter((function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable}))),e.push.apply(e,n)}return e}function h(t,i,e){return i in t?Object.defineProperty(t,i,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[i]=e,t}function p(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}function a(t,i){for(var e=0;e<i.length;e++){var n=i[e];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function c(t,i,e){return i&&a(t.prototype,i),e&&a(t,e),t}var d=r.Engine.create(),u=d.world,y=[],f=[],l=[],b=function(){function t(i){var e=this,n=i.p,o=i.x,s=i.y,h=i.r,a=i.options,c=void 0===a?{}:a;p(this,t),this.p=n,this.body=r.Bodies.circle(o,s,h,c),this.r=h,this.c=n.color(225),this.noRender=c.noRender||!1,r.World.add(u,this.body),setTimeout((function(){return t=e.body,r.World.remove(u,t),f=f.filter((function(i){return i.body.id!==t.id})),void(y=y.filter((function(i){return i.body.id!==t.id})));var t}),2e3)}return c(t,[{key:"render",value:function(){this.noRender||(this.p.push(),this.p.ellipse(this.body.position.x,this.body.position.y,2*this.r),this.p.pop())}}]),t}(),v=function(){function t(i){var e=i.p,n=i.x,o=i.y,s=i.r,h=i.options,a=void 0===h?{}:h;p(this,t),this.p=e,this.body=r.Bodies.circle(n,o,s,a),this.r=s,this.c=e.color(225),r.World.add(u,this.body),this.rays=[];for(var c=0;c<360;c+=1)this.rays.push(new g(this.body.position,e.radians(c),e))}return c(t,[{key:"render",value:function(){var t=this;this.p.push(),this.p.fill(this.c),this.p.stroke(this.c),this.p.ellipse(this.body.position.x,this.body.position.y,2*this.r),this.p.pop(),this.rays.forEach((function(i){var e=1/0,n=null;l.forEach((function(o){var r=i.cast(o);if(r){var s=t.p.dist(t.body.position.x,t.body.position.y,r.x,r.y);s<e&&(e=s,n=r)}})),n&&(t.p.push(),t.c.setAlpha(25),t.p.stroke(t.c),t.p.line(i.pos.x,i.pos.y,n.x,n.y),t.p.pop())}))}}]),t}(),w=function(){function t(i,e){var n=e.x,o=e.y,a=e.body,c=e.options,d=void 0===c?{}:c;p(this,t),this.p=i,this.sling=r.Constraint.create(function(t){for(var i=1;i<arguments.length;i++){var e=null!=arguments[i]?arguments[i]:{};i%2?s(Object(e),!0).forEach((function(i){h(t,i,e[i])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):s(Object(e)).forEach((function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(e,i))}))}return t}({pointA:{x:n,y:o},bodyB:a},d)),r.World.add(u,this.sling)}return c(t,[{key:"render",value:function(){this.p.line(this.sling.pointA.x,this.sling.pointA.y,this.sling.bodyB.position.x,this.sling.bodyB.position.y)}}]),t}(),g=function(){function t(i,e,n){p(this,t),this.p=n,this.pos=i,this.dir=o().Vector.fromAngle(e)}return c(t,[{key:"cast",value:function(t){var i=t.start.x,e=t.start.y,n=t.end.x,o=t.end.y,r=this.pos.x,s=this.pos.y,h=this.pos.x+this.dir.x,p=this.pos.y+this.dir.y,a=(i-n)*(s-p)-(e-o)*(r-h);if(0===a)return!1;var c=((i-r)*(s-p)-(e-s)*(r-h))/a;return c>0&&c<1&&-((i-n)*(e-s)-(e-o)*(i-r))/a>0?this.p.createVector(i+c*(n-i),e+c*(o-e)):void 0}}]),t}(),x=function t(i,e,n,o,r){p(this,t),this.start=r.createVector(i,e),this.end=r.createVector(n,o)},O=function(){function t(i,e){var n=e.x,o=e.y,s=e.w,h=e.h,a=e.options,c=void 0===a?{}:a;p(this,t),this.p=i,this.body=r.Bodies.rectangle(n,o,s,h,c),this.w=s,this.h=h,this.noRender=c.noRender||!1,r.World.add(u,this.body)}return c(t,[{key:"render",value:function(){this.noRender||(this.p.push(),this.p.translate(this.body.position.x,this.body.position.y),this.p.rotate(this.body.angle),this.p.fill(225),this.p.rectMode(this.p.CENTER),this.p.rect(0,0,this.w,this.h),this.p.pop())}}]),t}(),k=function(){function t(i,e){var n=e.x,o=e.y,s=e.s,h=e.r,a=e.options,c=void 0===a?{}:a;p(this,t),this.p=i,this.body=r.Bodies.polygon(n,o,s,h,c),this.radius=h,this.noRender=c.noRender||!1,r.World.add(u,this.body)}return c(t,[{key:"render",value:function(){var t=this;this.noRender||(this.p.push(),this.p.beginShape(),this.body.vertices.forEach((function(i){var e=i.x,n=i.y;return t.p.vertex(e,n)})),this.p.endShape(CLOSE),this.p.pop())}}]),t}();i.default=function(t){var i;t.paused=!1,t.stopLoop=function(){t.paused=!0,t.noLoop()},t.resumeLoop=function(){t.paused=!1,t.loop()},t.destroy=function(){return t.stopLoop(),t.noCanvas(),r.World.clear(d.world),r.Engine.clear(d),y=[],f=[],l=[],null},t.windowResized=function(){clearTimeout(i),i=setTimeout((function(){t.resizeCanvas(600,400),t.draw()}),100)},t.setup=function(){var i=t.createCanvas(100,100);i.parent(),t.resizeCanvas(600,400);var e=new O(t,{x:t.width/2,y:t.height+50,w:2*t.width,h:100,options:{isStatic:!0,friction:.5,restitution:.9}}),n=new v({p:t,x:t.width/2+100,y:100,r:10,options:{restitution:.4,friction:.3}}),o=new w(t,{x:t.width/2,y:100,body:n.body,options:{stiffness:1,length:100}}),s=new b({p:t,x:150,y:50,r:10,options:{noRender:!0,restitution:.55,friction:.1}}),h=new O(t,{x:100,y:100,w:100,h:100,options:{noRender:!0,isStatic:!0,angle:1}}),p=new k(t,{x:200,y:270,s:7,r:40,options:{noRender:!0,isStatic:!0,angle:Math.PI+.2}}),a=new k(t,{x:400,y:250,s:6,r:50,options:{noRender:!0,isStatic:!0}}),c=new O(t,{x:470,y:100,w:100,h:100,options:{noRender:!0,isStatic:!0,angle:1.8}});y.push(s,h,c,p,a),f.push(s,h,c,p,a);var g=r.Mouse.create(i.elt),m=r.MouseConstraint.create(d,{mouse:g});g.pixelRatio=t.pixelDensity(),l.push(new x(0,0,t.width,0,t)),l.push(new x(t.width,0,t.width,t.height,t)),l.push(new x(t.width,t.height,0,t.height,t)),l.push(new x(0,t.height,0,0,t)),r.World.add(u,m),y.push(e,o,n)},t.draw=function(){if(t.background(50),t.frameCount%60==0){var i=new b({p:t,x:t.random(150,t.width-150),y:-20,r:10,options:{noRender:!0,restitution:.55,friction:.1}});y.push(i),f.push(i)}r.Engine.update(d),f.forEach((function(i){i.body.vertices.forEach((function(i,e,n){var o=(e+1)%n.length;l.push(new x(i.x,i.y,n[o].x,n[o].y,t))}))})),y.forEach((function(t){return t.render()})),l.splice(4)},t.keyPressed=function(){80===t.keyCode&&(t.paused?t.resumeLoop():t.stopLoop())}}}}]);