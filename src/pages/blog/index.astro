---
import { getCollection } from 'astro:content';
import Layout from '../../layouts/Layout.astro';

const blogPosts = (await getCollection('blog')).sort(
	(a, b) => b.data.createdAt.valueOf() - a.data.createdAt.valueOf()
);
---

<Layout>
	<ul>
		{blogPosts.map(post => (
			<li>
				<article>
					<h3><a href={`/blog/${post.id}`}>{post.data.title}</a></h3>
				</article>
			</li>
		))}
	</ul>
</Layout>

<style>
ul {
	margin-top: 2rem;
}
li {
	margin-top: 1em;
	padding: 1em;

	&:hover {
		background-color: light-dark(var(--ctp-latte-crust), var(--ctp-frappe-crust));
	}
}
</style>
